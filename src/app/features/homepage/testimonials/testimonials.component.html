<div class="py-8 md:py-16 px-4 md:px-6">
  <app-header [title]="'homepage.testimonials.title' | translate"></app-header>

  <div *ngIf="isLoading" class="flex justify-center items-center min-h-[300px]">
    <div
      class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"
    ></div>
  </div>

  <swiper-container
    *ngIf="!isLoading"
    [slidesPerView]="1"
    [spaceBetween]="30"
    [loop]="true"
    [breakpoints]="{
      '1024': {
        slidesPerView: 2,
        spaceBetween: 30
      },
      '1280': {
        slidesPerView: 3,
        spaceBetween: 20
      }
    }"
  >
    <swiper-slide *ngFor="let testimonial of testimonials">
      <section class="border-2 w-full border-gray-300 rounded-md p-4 md:p-5">
        <div class="flex justify-end items-center mr-3 md:mr-5 mb-2 md:mb-3">
          <img src="assets/stars.png" class="w-24 md:w-auto" />
        </div>
        <p
          class="font-cabrito font-normal text-base md:text-lg mb-4 md:mb-5 break-words"
          [dir]="languageService.getCurrentLanguage() === 'ar' ? 'rtl' : 'ltr'"
        >
          {{ "homepage.testimonials.testimonial.text" | translate }}
        </p>
        <div class="flex items-center gap-3 md:gap-4">
          <img
            [src]="testimonial.image"
            class="h-9 w-9 md:h-11 md:w-11 rounded-full flex-shrink-0"
          />
          <div class="min-w-0">
            <h3
              class="text-sm md:text-base font-medium truncate"
              [dir]="
                languageService.getCurrentLanguage() === 'ar' ? 'rtl' : 'ltr'
              "
            >
              {{ "homepage.testimonials.testimonial.name" | translate }}
            </h3>
            <p
              class="text-xs md:text-sm text-white truncate"
              [dir]="
                languageService.getCurrentLanguage() === 'ar' ? 'rtl' : 'ltr'
              "
            >
              {{ "homepage.testimonials.testimonial.position" | translate }},
              {{ "homepage.testimonials.testimonial.company" | translate }}
            </p>
          </div>
        </div>
      </section>
    </swiper-slide>
  </swiper-container>

  <div class="flex justify-center items-center mt-8">
    <img src="assets/mouse-scroll.png" class="w-15 h-15 md:w-20 md:h-20" />
  </div>
</div>
